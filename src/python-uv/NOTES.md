# Dev Container & Tooling Overview

## Project Overview & Core Features
- Devcontainer-based Python setup with `uv` managing environments and dependencies (`pyproject.toml` + `uv.lock`).
- VS Code + Pylance plus pre-installed extensions: Ruff (lint/format/imports), Mypy (types), Jupyter.
- Post-create flow: verifies tools → installs Python → initializes project (if needed) → syncs dependencies.
- Logs available at `/tmp/test-tools.log`, `/tmp/init.log`, and `/tmp/uv-sync.log` for debugging post-create issues.

## Devcontainer Setup
- Base: Ubuntu image (`mcr.microsoft.com/devcontainers/base:ubuntu`) with `uv` feature for fast, reproducible environments.
- Rationale: keep the container minimal; let `uv` handle Python version and dependency management.
- UV usage: `uv sync` to materialize `.venv`; `uv run ...` to execute tools/commands in the environment.
- Docker Compose orchestration with configurable image name and Python version (3.11-3.14 supported).
- Devcontainer config in `.devcontainer/devcontainer.json`:
  - Extensions: Python, Pylance, Ruff, Mypy, Jupyter
  - Post-create command: `make post-create`
  - Environment variables: `PROJECT_NAME`, `PYTHON_VERSION`, `UV_INIT_BARE`

## Makefile Commands
The template includes a `Makefile` with the following targets:

- `make post-create`: Full initialization sequence (test-tools → init → sync)
- `make test-tools`: Verifies installed tools (uv, Python, bash, git, etc.) → logs to `/tmp/test-tools.log`
- `make init`: Installs Python via `uv python install`, creates minimal `pyproject.toml` if missing (uses `--bare` by default) → logs to `/tmp/init.log`
- `make sync`: Runs `uv sync` to install dependencies → logs to `/tmp/uv-sync.log`
- `make lint`: Runs `uv run ruff check .`
- `make format`: Runs `uv run ruff format .`
- `make type-check`: Runs `uv run mypy .`

## Python, Packages, and Jupyter
- Package installs: `uv add <package>`; dev-only tools: `uv add --dev <package>`
- Source of truth: `pyproject.toml` (managed by `uv`); `uv.lock` pins exact versions for reproducibility
- Initial project: template creates minimal `pyproject.toml` via `uv init --bare` (no boilerplate files)
- Notebooks: use VS Code's built-in Jupyter support; select `.venv/bin/python` as kernel
  - Add `ipykernel` when needed: `uv add --dev ipykernel`

## Code Quality & Tooling
- Pre-installed VS Code extensions: Python, Pylance, Ruff, Mypy, Jupyter
- Workflow: 
  - VS Code extensions provide real-time feedback in the editor
  - CLI commands via Makefile for reproducible checks: `make lint`, `make format`, `make type-check`
  - `uv run` ensures commands execute in the managed `.venv`
- Configuration: Add tool settings to `pyproject.toml` (e.g., `[tool.ruff]`, `[tool.mypy]`)

## Template Options
- `projectName`: Workspace display name (default: "Python + uv")
- `imageName`: Docker image/container name (default: "python_playground")
- `pythonVersion`: Python version to install (default: "3.13"; options: 3.11-3.14)
- `bare`: Use minimal `uv init --bare` mode (default: true; creates only `pyproject.toml`)

## File Structure
- `.devcontainer/devcontainer.json`: Container definition, extensions, environment variables, post-create command
- `.devcontainer/docker-compose.yml`: Docker Compose orchestration with configurable image name
- `.devcontainer/Dockerfile`: Minimal Ubuntu base image definition
- `.devcontainer/test_tools.sh`: Tool verification script (checks uv, Python, bash, git, etc.)
- `Makefile`: Orchestration for post-create and common development commands
- `pyproject.toml`: Created by `make init` if missing; manages project metadata, dependencies, and tool configs
- `uv.lock`: Generated by `uv sync`; resolved, pinned dependency versions for reproducibility
